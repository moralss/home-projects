{"ast":null,"code":"import _objectSpread from \"/home/moral/Documents/home-projects/my-blog-list/clientSide/setup/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"/home/moral/Documents/home-projects/my-blog-list/clientSide/setup/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/moral/Documents/home-projects/my-blog-list/clientSide/setup/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nimport * as actions from '../../actionTypes';\nimport { setAxiosHeader } from \"../../utils/setAxiosHeader\";\nimport history from \"../../history\";\nvar URL = \"http://localhost:3001\";\nexport var fetchUserProfile = function fetchUserProfile() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.get(\"\".concat(URL, \"/profile\"), setAxiosHeader());\n\n              case 3:\n                res = _context.sent;\n                dispatch({\n                  type: actions.RECIEVED_PROFILE,\n                  payload: res.data\n                });\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                dispatch({\n                  type: actions.AUTHENTICATION_ERROR,\n                  payload: \" password\"\n                });\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 7]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var createBlog = function createBlog(blogInfo) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return axios.post(\"\".concat(URL, \"/blog\"), blogInfo, setAxiosHeader());\n\n              case 3:\n                res = _context2.sent;\n                dispatch({\n                  type: actions.POST_SUCCESFUL\n                });\n                _context2.next = 10;\n                break;\n\n              case 7:\n                _context2.prev = 7;\n                _context2.t0 = _context2[\"catch\"](0);\n                dispatch({\n                  type: actions.AUTHENTICATION_ERROR,\n                  payload: _context2.t0\n                });\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 7]]);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getUserBlogs = function getUserBlogs() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return axios.get(\"\".concat(URL, \"/blog\"), setAxiosHeader());\n\n              case 3:\n                res = _context3.sent;\n                dispatch({\n                  type: actions.RECIEVED_LATEST_BLOG,\n                  payload: res.data\n                });\n                _context3.next = 10;\n                break;\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](0);\n                dispatch({\n                  type: actions.AUTHENTICATION_ERROR,\n                  payload: \" password\"\n                });\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 7]]);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getEditBlog = function getEditBlog(blogId) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return axios.get(\"\".concat(URL, \"/editblog/\").concat(blogId), setAxiosHeader());\n\n              case 3:\n                res = _context4.sent;\n                dispatch({\n                  type: actions.RECIEVED_EDIT_BLOG,\n                  payload: res.data\n                });\n                _context4.next = 10;\n                break;\n\n              case 7:\n                _context4.prev = 7;\n                _context4.t0 = _context4[\"catch\"](0);\n                console.log(_context4.t0);\n\n              case 10:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[0, 7]]);\n      }));\n\n      return function (_x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getAllBlogs = function getAllBlogs() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref5 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return axios.get(\"\".concat(URL, \"/allblogs\"));\n\n              case 3:\n                res = _context5.sent;\n                dispatch({\n                  type: actions.RECIEVED_All_BLOG,\n                  payload: res.data\n                }, setAxiosHeader());\n                _context5.next = 10;\n                break;\n\n              case 7:\n                _context5.prev = 7;\n                _context5.t0 = _context5[\"catch\"](0);\n                console.log(_context5.t0);\n\n              case 10:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[0, 7]]);\n      }));\n\n      return function (_x5) {\n        return _ref5.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var deleteBlog = function deleteBlog(blogId) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref6 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n                _context6.next = 3;\n                return axios.delete(\"\".concat(URL, \"/blog\"), {\n                  data: {\n                    id: blogId\n                  }\n                }, setAxiosHeader());\n\n              case 3:\n                dispatch({\n                  type: actions.DELETE_SUCCESFUL\n                });\n                _context6.next = 9;\n                break;\n\n              case 6:\n                _context6.prev = 6;\n                _context6.t0 = _context6[\"catch\"](0);\n                dispatch({\n                  type: actions.AUTHENTICATION_ERROR,\n                  payload: \" password\"\n                });\n\n              case 9:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this, [[0, 6]]);\n      }));\n\n      return function (_x6) {\n        return _ref6.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var updateBlog = function updateBlog(blogInfo) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref7 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.prev = 0;\n                _context7.next = 3;\n                return axios.put(\"\".concat(URL, \"/editblog\"), blogInfo, setAxiosHeader());\n\n              case 3:\n                dispatch({\n                  type: \" BLOG_SUCCESFUL_UPDATED\"\n                });\n                history.push(\"/addblog\");\n                _context7.next = 10;\n                break;\n\n              case 7:\n                _context7.prev = 7;\n                _context7.t0 = _context7[\"catch\"](0);\n                dispatch({\n                  type: \"UPDATE_ERROR\",\n                  payload: \" password\"\n                });\n\n              case 10:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[0, 7]]);\n      }));\n\n      return function (_x7) {\n        return _ref7.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getBlogsForAuthor = function getBlogsForAuthor(authorId) {\n  console.log(\"authorId\", authorId);\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref8 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee8(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.prev = 0;\n                _context8.next = 3;\n                return axios.get(\"\".concat(URL, \"/authorinfo/\").concat(authorId), setAxiosHeader());\n\n              case 3:\n                res = _context8.sent;\n                dispatch({\n                  type: actions.RECIEVED_BLOGS_FOR_AUTHOR,\n                  payload: res.data\n                });\n                _context8.next = 10;\n                break;\n\n              case 7:\n                _context8.prev = 7;\n                _context8.t0 = _context8[\"catch\"](0);\n                console.log(_context8.t0);\n\n              case 10:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this, [[0, 7]]);\n      }));\n\n      return function (_x8) {\n        return _ref8.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getTotalLikes = function getTotalLikes(blogId) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref9 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee9(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.prev = 0;\n                _context9.next = 3;\n                return axios.get(\"\".concat(URL, \"/likes/\").concat(blogId), setAxiosHeader());\n\n              case 3:\n                res = _context9.sent;\n                dispatch({\n                  type: actions.RECIEVED_TOTAL_LIKES,\n                  payload: res.data.sum\n                });\n                _context9.next = 10;\n                break;\n\n              case 7:\n                _context9.prev = 7;\n                _context9.t0 = _context9[\"catch\"](0);\n                console.log(_context9.t0);\n\n              case 10:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this, [[0, 7]]);\n      }));\n\n      return function (_x9) {\n        return _ref9.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getAuthorBlog = function getAuthorBlog(blogId) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref10 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee10(dispatch) {\n        var res, singleblog;\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.prev = 0;\n                _context10.next = 3;\n                return axios.get(\"\".concat(URL, \"/singleblog/\").concat(blogId), setAxiosHeader());\n\n              case 3:\n                res = _context10.sent;\n                console.log(\"res\", res.data);\n                singleblog = _objectSpread({}, res.data);\n                dispatch({\n                  type: actions.RECIEVED_SINGLE_BLOG,\n                  payload: singleblog\n                });\n                _context10.next = 12;\n                break;\n\n              case 9:\n                _context10.prev = 9;\n                _context10.t0 = _context10[\"catch\"](0);\n                console.log(_context10.t0);\n\n              case 12:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this, [[0, 9]]);\n      }));\n\n      return function (_x10) {\n        return _ref10.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var dislikeBlog = function dislikeBlog(blogId) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref11 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee11(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.prev = 0;\n                _context11.next = 3;\n                return axios.put(\"\".concat(URL, \"/like\"), blogId, setAxiosHeader());\n\n              case 3:\n                res = _context11.sent;\n                dispatch({\n                  type: actions.STORE_IF_LIKED,\n                  payload: 0\n                });\n                _context11.next = 11;\n                break;\n\n              case 7:\n                _context11.prev = 7;\n                _context11.t0 = _context11[\"catch\"](0);\n                console.log(_context11.t0);\n                dispatch({\n                  type: \"UPDATE_ERROR\",\n                  payload: \" password\"\n                });\n\n              case 11:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this, [[0, 7]]);\n      }));\n\n      return function (_x11) {\n        return _ref11.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var addLike = function addLike(blogId) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref12 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee12(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _context12.prev = 0;\n                _context12.next = 3;\n                return axios.post(\"\".concat(URL, \"/like\"), blogId, setAxiosHeader());\n\n              case 3:\n                res = _context12.sent;\n                dispatch({\n                  type: \"actions.POST_SUCCESFUL \"\n                });\n                dispatch({\n                  type: actions.STORE_IF_LIKED,\n                  payload: 1\n                });\n                _context12.next = 11;\n                break;\n\n              case 8:\n                _context12.prev = 8;\n                _context12.t0 = _context12[\"catch\"](0);\n                dispatch({\n                  type: \"actions.AUTHENTICATION_ERROR\",\n                  payload: _context12.t0\n                });\n\n              case 11:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this, [[0, 8]]);\n      }));\n\n      return function (_x12) {\n        return _ref12.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getIfLiked = function getIfLiked() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref13 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee13(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _context13.prev = 0;\n                _context13.next = 3;\n                return axios.get(\"\".concat(URL, \"/like\"), setAxiosHeader());\n\n              case 3:\n                res = _context13.sent;\n                console.log(\"response\", res.data.liked);\n                dispatch({\n                  type: actions.STORE_IF_LIKED,\n                  payload: res.data.liked\n                });\n                _context13.next = 12;\n                break;\n\n              case 8:\n                _context13.prev = 8;\n                _context13.t0 = _context13[\"catch\"](0);\n                console.log(_context13.t0);\n                dispatch({\n                  type: \"UPDATE_ERROR\",\n                  payload: \" password\"\n                });\n\n              case 12:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this, [[0, 8]]);\n      }));\n\n      return function (_x13) {\n        return _ref13.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var addComment = function addComment(data) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref14 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee14(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                _context14.prev = 0;\n                _context14.next = 3;\n                return axios.post(\"\".concat(URL, \"/comments/\").concat(data.id), {\n                  data: data\n                }, setAxiosHeader());\n\n              case 3:\n                res = _context14.sent;\n                dispatch({\n                  type: actions.RECIEVED_COMMENTS,\n                  payload: res.data\n                });\n                _context14.next = 10;\n                break;\n\n              case 7:\n                _context14.prev = 7;\n                _context14.t0 = _context14[\"catch\"](0);\n                dispatch({\n                  type: \"comments error\",\n                  payload: _context14.t0\n                });\n\n              case 10:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this, [[0, 7]]);\n      }));\n\n      return function (_x14) {\n        return _ref14.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getAllComments = function getAllComments(blogId) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref15 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee15(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _context15.prev = 0;\n                _context15.next = 3;\n                return axios.get(\"\".concat(URL, \"/comments/\").concat(blogId), setAxiosHeader());\n\n              case 3:\n                res = _context15.sent;\n                dispatch({\n                  type: actions.RECIEVED_COMMENTS,\n                  payload: res.data\n                });\n                _context15.next = 11;\n                break;\n\n              case 7:\n                _context15.prev = 7;\n                _context15.t0 = _context15[\"catch\"](0);\n                console.log(_context15.t0);\n                dispatch({\n                  type: \"comments error\",\n                  payload: \" password\"\n                });\n\n              case 11:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this, [[0, 7]]);\n      }));\n\n      return function (_x15) {\n        return _ref15.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getSingleBlog = function getSingleBlog(id) {};","map":{"version":3,"sources":["/home/moral/Documents/home-projects/my-blog-list/clientSide/setup/src/action/thunk/index.js"],"names":["axios","actions","setAxiosHeader","history","URL","fetchUserProfile","dispatch","get","res","type","RECIEVED_PROFILE","payload","data","AUTHENTICATION_ERROR","createBlog","blogInfo","post","POST_SUCCESFUL","getUserBlogs","RECIEVED_LATEST_BLOG","getEditBlog","blogId","RECIEVED_EDIT_BLOG","console","log","getAllBlogs","RECIEVED_All_BLOG","deleteBlog","delete","id","DELETE_SUCCESFUL","updateBlog","put","push","getBlogsForAuthor","authorId","RECIEVED_BLOGS_FOR_AUTHOR","getTotalLikes","RECIEVED_TOTAL_LIKES","sum","getAuthorBlog","singleblog","RECIEVED_SINGLE_BLOG","dislikeBlog","STORE_IF_LIKED","addLike","getIfLiked","liked","addComment","RECIEVED_COMMENTS","getAllComments","getSingleBlog"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport * as actions from '../../actionTypes';\nimport { setAxiosHeader } from \"../../utils/setAxiosHeader\";\nimport history from \"../../history\";\n\nconst URL = \"http://localhost:3001\";\n\n\n\n\n\n\nexport const fetchUserProfile = () => {\n  return async dispatch => {\n    try {\n      const res = await axios.get(`${URL}/profile`, setAxiosHeader());\n      dispatch({ type: actions.RECIEVED_PROFILE, payload: res.data });\n    } catch (e) {\n      dispatch({\n        type: actions.AUTHENTICATION_ERROR,\n        payload: \" password\"\n      });\n    }\n  };\n};\n\n\n\nexport const createBlog = blogInfo => {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`${URL}/blog`, blogInfo, setAxiosHeader());\n      dispatch({ type: actions.POST_SUCCESFUL });\n    } catch (error) {\n      dispatch({\n        type: actions.AUTHENTICATION_ERROR,\n        payload: error\n      });\n    }\n  };\n};\n\nexport const getUserBlogs = () => {\n  return async dispatch => {\n    try {\n      const res = await axios.get(`${URL}/blog`, setAxiosHeader());\n      dispatch({ type: actions.RECIEVED_LATEST_BLOG, payload: res.data });\n    } catch (e) {\n      dispatch({\n        type: actions.AUTHENTICATION_ERROR,\n        payload: \" password\"\n      });\n    }\n  };\n};\n\nexport const getEditBlog = blogId => {\n  return async dispatch => {\n    try {\n      const res = await axios.get(`${URL}/editblog/${blogId}`, setAxiosHeader());\n      dispatch({ type: actions.RECIEVED_EDIT_BLOG, payload: res.data });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n};\n\n\nexport const getAllBlogs = () => {\n  return async dispatch => {\n    try {\n      const res = await axios.get(`${URL}/allblogs`);\n      dispatch({ type: actions.RECIEVED_All_BLOG, payload: res.data }, setAxiosHeader());\n    } catch (e) {\n      console.log(e);\n    }\n  };\n};\n\n\nexport const deleteBlog = blogId => {\n  return async dispatch => {\n    try {\n      await axios.delete(`${URL}/blog`, { data: { id: blogId } }, setAxiosHeader());\n      dispatch({ type: actions.DELETE_SUCCESFUL });\n    } catch (e) {\n      dispatch({\n        type: actions.AUTHENTICATION_ERROR,\n        payload: \" password\"\n      });\n    }\n  };\n};\n\n\n\nexport const updateBlog = (blogInfo) => {\n  return async dispatch => {\n    try {\n      await axios.put(`${URL}/editblog`, blogInfo, setAxiosHeader());\n      dispatch({ type: \" BLOG_SUCCESFUL_UPDATED\" });\n      history.push(\"/addblog\");\n    } catch (e) {\n      dispatch({\n        type: \"UPDATE_ERROR\",\n        payload: \" password\"\n      });\n    }\n  };\n};\n\n\n\nexport const getBlogsForAuthor = (authorId) => {\n  console.log(\"authorId\", authorId);\n  return async dispatch => {\n    try {\n      const res = await axios.get(`${URL}/authorinfo/${authorId}`, setAxiosHeader());\n      dispatch({\n        type: actions.RECIEVED_BLOGS_FOR_AUTHOR,\n        payload: res.data\n      })\n    } catch (e) {\n      console.log(e);\n    }\n  };\n};\n\n\n\nexport const getTotalLikes = (blogId) => {\n  return async dispatch => {\n    try {\n      const res = await axios.get(`${URL}/likes/${blogId}`, setAxiosHeader());\n      dispatch({\n        type: actions.RECIEVED_TOTAL_LIKES,\n        payload: res.data.sum\n      })\n    } catch (e) {\n      console.log(e);\n    }\n  };\n};\n\n\nexport const getAuthorBlog = (blogId) => {\n  return async dispatch => {\n    try {\n      const res = await axios.get(`${URL}/singleblog/${blogId}`, setAxiosHeader());\n      console.log(\"res\", res.data);\n      const singleblog = { ...res.data }\n      dispatch({\n        type: actions.RECIEVED_SINGLE_BLOG,\n        payload: singleblog\n      })\n\n\n    } catch (e) {\n      console.log(e);\n    }\n  };\n};\n\n\n\nexport const dislikeBlog = (blogId) => {\n  return async dispatch => {\n    try {\n      let res = await axios.put(`${URL}/like`, blogId, setAxiosHeader());\n      dispatch({ type: actions.STORE_IF_LIKED, payload: 0 });\n    } catch (e) {\n      console.log(e);\n      dispatch({\n        type: \"UPDATE_ERROR\",\n        payload: \" password\"\n      });\n    }\n  };\n};\n\n\nexport const addLike = blogId => {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`${URL}/like`, blogId, setAxiosHeader());\n      dispatch({ type: \"actions.POST_SUCCESFUL \" });\n      dispatch({ type: actions.STORE_IF_LIKED, payload: 1 });\n    } catch (error) {\n      dispatch({\n        type: \"actions.AUTHENTICATION_ERROR\",\n        payload: error\n      });\n    }\n  };\n};\n\n\nexport const getIfLiked = () => {\n  return async dispatch => {\n    try {\n      let res = await axios.get(`${URL}/like`, setAxiosHeader());\n      console.log(\"response\", res.data.liked);\n      dispatch({ type: actions.STORE_IF_LIKED, payload: res.data.liked });\n    } catch (e) {\n      console.log(e);\n      dispatch({\n        type: \"UPDATE_ERROR\",\n        payload: \" password\"\n      });\n    }\n  };\n};\n\n\n\n\nexport const addComment = data => {\n\n  return async dispatch => {\n    try {\n      const res = await axios.post(`${URL}/comments/${data.id}`, { data }, setAxiosHeader());\n      dispatch({ type: actions.RECIEVED_COMMENTS, payload: res.data });\n    } catch (error) {\n      dispatch({\n        type: \"comments error\",\n        payload: error\n      });\n    }\n  };\n};\n\n\nexport const getAllComments = (blogId) => {\n  return async dispatch => {\n    try {\n      let res = await axios.get(`${URL}/comments/${blogId}`, setAxiosHeader());\n      dispatch({\n        type: actions.RECIEVED_COMMENTS,\n        payload: res.data\n      });\n    } catch (e) {\n      console.log(e);\n      dispatch({\n        type: \"comments error\",\n        payload: \" password\"\n      });\n    }\n  };\n};\n\n\nexport const getSingleBlog = id => { };\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}