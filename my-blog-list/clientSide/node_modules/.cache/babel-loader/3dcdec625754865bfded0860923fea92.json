{"ast":null,"code":"import _regeneratorRuntime from \"/home/moral/Documents/home-projects/my-blog-list/clientSide/setup/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/moral/Documents/home-projects/my-blog-list/clientSide/setup/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nvar URL = \"http://localhost:3001\";\nvar userToken = localStorage.getItem(\"user\");\naxios.defaults.headers.common[\"authorization\"] = userToken;\nexport var RECIEVED_All_BLOG = \"RECIEVED_All_BLOG\";\nexport var AUTHENTICATED = \"AUTHENTICATED\";\nexport var AUTHENTICATION_ERROR = \"AUTHENTICATION_ERROR\";\nexport var USER_INFO = \"GET_USER_INFO\";\nexport var RECIEVED_PROFILE = \"RECIEVED_PROFILE\";\nexport var RECIEVED_LATEST_BLOG = \"RECIEVED_LATEST_BLOG\";\nexport var DELETE_SUCCESFUL = \"DELETE_SUCCESFUL\";\nexport var POST_SUCCESFUL = \"POST_SUCCESFUL\";\nexport var RECIEVED_EDIT_BLOG = \"RECIEVED_EDIT_BLOG\";\nexport var signInAction = function signInAction(credentials, history) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.post(\"\".concat(URL, \"/signin\"), credentials);\n\n              case 3:\n                res = _context.sent;\n                setTimeout(function () {\n                  localStorage.setItem(\"user\", res.data.token);\n                }, 3000);\n                dispatch({\n                  type: AUTHENTICATED\n                });\n                history.push(\"/addblog\");\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n                // console.log(error.response.data.errors);\n                dispatch({\n                  type: AUTHENTICATION_ERROR,\n                  action: _context.t0.response.data.errors\n                });\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 9]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport function loginInAction(credentials, history) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return axios.post(\"\".concat(URL, \"/login\"), credentials);\n\n              case 3:\n                res = _context2.sent;\n                dispatch({\n                  type: AUTHENTICATED\n                });\n                localStorage.setItem(\"user\", res.data.token);\n                history.push(\"/addblog\");\n                _context2.next = 12;\n                break;\n\n              case 9:\n                _context2.prev = 9;\n                _context2.t0 = _context2[\"catch\"](0);\n                dispatch({\n                  type: AUTHENTICATION_ERROR,\n                  payload: \"Invalid email or password\"\n                });\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 9]]);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n}\n\nfunction setAxiosHeader() {\n  var user = localStorage.getItem(\"user\");\n  var headers = {\n    headers: {\n      authorizationc: user\n    }\n  };\n  return headers;\n}\n\nexport var fetchUserProfile = function fetchUserProfile() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return axios.get(\"\".concat(URL, \"/profile\"), setAxiosHeader);\n\n              case 3:\n                res = _context3.sent;\n                console.log(\"response\", res);\n                dispatch({\n                  type: RECIEVED_PROFILE,\n                  payload: res.data\n                });\n                _context3.next = 11;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3[\"catch\"](0);\n                dispatch({\n                  type: AUTHENTICATION_ERROR,\n                  payload: \" password\"\n                });\n\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 8]]);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var createBlog = function createBlog(blogInfo) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return axios.post(\"\".concat(URL, \"/blog\"), blogInfo);\n\n              case 3:\n                res = _context4.sent;\n                dispatch({\n                  type: POST_SUCCESFUL\n                });\n                _context4.next = 10;\n                break;\n\n              case 7:\n                _context4.prev = 7;\n                _context4.t0 = _context4[\"catch\"](0);\n                dispatch({\n                  type: AUTHENTICATION_ERROR,\n                  payload: _context4.t0\n                });\n\n              case 10:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[0, 7]]);\n      }));\n\n      return function (_x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getLatestBlog = function getLatestBlog() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref5 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return axios.get(\"\".concat(URL, \"/blog\"));\n\n              case 3:\n                res = _context5.sent;\n                dispatch({\n                  type: RECIEVED_LATEST_BLOG,\n                  payload: res.data\n                });\n                _context5.next = 10;\n                break;\n\n              case 7:\n                _context5.prev = 7;\n                _context5.t0 = _context5[\"catch\"](0);\n                dispatch({\n                  type: AUTHENTICATION_ERROR,\n                  payload: \" password\"\n                });\n\n              case 10:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[0, 7]]);\n      }));\n\n      return function (_x5) {\n        return _ref5.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getEditBlog = function getEditBlog(blogId) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref6 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n                _context6.next = 3;\n                return axios.get(\"\".concat(URL, \"/editblog/\").concat(blogId));\n\n              case 3:\n                res = _context6.sent;\n                dispatch({\n                  type: RECIEVED_EDIT_BLOG,\n                  payload: res.data\n                });\n                _context6.next = 10;\n                break;\n\n              case 7:\n                _context6.prev = 7;\n                _context6.t0 = _context6[\"catch\"](0);\n                console.log(_context6.t0);\n\n              case 10:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this, [[0, 7]]);\n      }));\n\n      return function (_x6) {\n        return _ref6.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getAllBlogs = function getAllBlogs() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref7 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.prev = 0;\n                _context7.next = 3;\n                return axios.get(\"\".concat(URL, \"/allblogs\"));\n\n              case 3:\n                res = _context7.sent;\n                dispatch({\n                  type: RECIEVED_All_BLOG,\n                  payload: res.data\n                });\n                _context7.next = 10;\n                break;\n\n              case 7:\n                _context7.prev = 7;\n                _context7.t0 = _context7[\"catch\"](0);\n                console.log(_context7.t0);\n\n              case 10:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[0, 7]]);\n      }));\n\n      return function (_x7) {\n        return _ref7.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var deleteBlog = function deleteBlog(blogId) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref8 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee8(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.prev = 0;\n                _context8.next = 3;\n                return axios.delete(\"\".concat(URL, \"/blog\"), {\n                  data: {\n                    id: blogId\n                  }\n                });\n\n              case 3:\n                dispatch({\n                  type: DELETE_SUCCESFUL\n                });\n                _context8.next = 9;\n                break;\n\n              case 6:\n                _context8.prev = 6;\n                _context8.t0 = _context8[\"catch\"](0);\n                dispatch({\n                  type: AUTHENTICATION_ERROR,\n                  payload: \" password\"\n                });\n\n              case 9:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this, [[0, 6]]);\n      }));\n\n      return function (_x8) {\n        return _ref8.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var updateBlog = function updateBlog(blogInfo, history) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref9 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee9(dispatch) {\n        var user, headers;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                user = localStorage.getItem(\"user\");\n                headers = {\n                  headers: {\n                    authorizationc: user\n                  }\n                };\n                _context9.prev = 2;\n                _context9.next = 5;\n                return axios.put(\"\".concat(URL, \"/editblog\"), blogInfo, headers);\n\n              case 5:\n                dispatch({\n                  type: \" BLOG_SUCCESFUL_UPDATED\"\n                });\n                history.push(\"/addblog\");\n                _context9.next = 12;\n                break;\n\n              case 9:\n                _context9.prev = 9;\n                _context9.t0 = _context9[\"catch\"](2);\n                dispatch({\n                  type: \"UPDATE_ERROR\",\n                  payload: \" password\"\n                });\n\n              case 12:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this, [[2, 9]]);\n      }));\n\n      return function (_x9) {\n        return _ref9.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getSingleBlog = function getSingleBlog(id) {};","map":{"version":3,"sources":["/home/moral/Documents/home-projects/my-blog-list/clientSide/setup/src/action/thunk/index.js"],"names":["axios","URL","userToken","localStorage","getItem","defaults","headers","common","RECIEVED_All_BLOG","AUTHENTICATED","AUTHENTICATION_ERROR","USER_INFO","RECIEVED_PROFILE","RECIEVED_LATEST_BLOG","DELETE_SUCCESFUL","POST_SUCCESFUL","RECIEVED_EDIT_BLOG","signInAction","credentials","history","dispatch","post","res","setTimeout","setItem","data","token","type","push","action","response","errors","loginInAction","payload","setAxiosHeader","user","authorizationc","fetchUserProfile","get","console","log","createBlog","blogInfo","getLatestBlog","getEditBlog","blogId","getAllBlogs","deleteBlog","delete","id","updateBlog","put","getSingleBlog"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nconst URL = \"http://localhost:3001\";\n\nlet userToken = localStorage.getItem(\"user\");\naxios.defaults.headers.common[\"authorization\"] = userToken;\n\nexport const RECIEVED_All_BLOG = \"RECIEVED_All_BLOG\";\nexport const AUTHENTICATED = \"AUTHENTICATED\";\nexport const AUTHENTICATION_ERROR = \"AUTHENTICATION_ERROR\";\nexport const USER_INFO = \"GET_USER_INFO\";\nexport const RECIEVED_PROFILE = \"RECIEVED_PROFILE\";\nexport const RECIEVED_LATEST_BLOG = \"RECIEVED_LATEST_BLOG\";\nexport const DELETE_SUCCESFUL = \"DELETE_SUCCESFUL\";\nexport const POST_SUCCESFUL = \"POST_SUCCESFUL\";\nexport const RECIEVED_EDIT_BLOG = \"RECIEVED_EDIT_BLOG\";\n\nexport const signInAction = (credentials, history) => {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`${URL}/signin`, credentials);\n      setTimeout(() => {\n        localStorage.setItem(\"user\", res.data.token);\n      }, 3000);\n      dispatch({ type: AUTHENTICATED });\n      history.push(\"/addblog\");\n\n    } catch (error) {\n      // console.log(error.response.data.errors);\n      dispatch({\n        type: AUTHENTICATION_ERROR,\n        action: error.response.data.errors\n      });\n    }\n  };\n};\n\nexport function loginInAction(credentials, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`${URL}/login`, credentials);\n      dispatch({ type: AUTHENTICATED });\n      localStorage.setItem(\"user\", res.data.token);\n      history.push(\"/addblog\");\n    } catch (error) {\n      dispatch({\n        type: AUTHENTICATION_ERROR,\n        payload: \"Invalid email or password\"\n      });\n    }\n  };\n}\n\nfunction setAxiosHeader() {\n  let user = localStorage.getItem(\"user\");\n  const headers = { headers: { authorizationc: user } };\n  return headers;\n}\n\nexport const fetchUserProfile = () => {\n  return async dispatch => {\n    try {\n      const res = await axios.get(`${URL}/profile`, setAxiosHeader);\n      console.log(\"response\", res);\n      dispatch({ type: RECIEVED_PROFILE, payload: res.data });\n    } catch (e) {\n      dispatch({\n        type: AUTHENTICATION_ERROR,\n        payload: \" password\"\n      });\n    }\n  };\n};\n\nexport const createBlog = blogInfo => {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`${URL}/blog`, blogInfo);\n      dispatch({ type: POST_SUCCESFUL });\n    } catch (error) {\n      dispatch({\n        type: AUTHENTICATION_ERROR,\n        payload: error\n      });\n    }\n  };\n};\n\nexport const getLatestBlog = () => {\n  return async dispatch => {\n    try {\n      const res = await axios.get(`${URL}/blog`);\n      dispatch({ type: RECIEVED_LATEST_BLOG, payload: res.data });\n    } catch (e) {\n      dispatch({\n        type: AUTHENTICATION_ERROR,\n        payload: \" password\"\n      });\n    }\n  };\n};\n\nexport const getEditBlog = blogId => {\n  return async dispatch => {\n    try {\n      const res = await axios.get(`${URL}/editblog/${blogId}`);\n      dispatch({ type: RECIEVED_EDIT_BLOG, payload: res.data });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n};\n\nexport const getAllBlogs = () => {\n  return async dispatch => {\n    try {\n      const res = await axios.get(`${URL}/allblogs`);\n      dispatch({ type: RECIEVED_All_BLOG, payload: res.data });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n};\n\n\nexport const deleteBlog = blogId => {\n  return async dispatch => {\n    try {\n      await axios.delete(`${URL}/blog`, { data: { id: blogId } });\n      dispatch({ type: DELETE_SUCCESFUL });\n    } catch (e) {\n      dispatch({\n        type: AUTHENTICATION_ERROR,\n        payload: \" password\"\n      });\n    }\n  };\n};\n\nexport const updateBlog = (blogInfo, history) => {\n  return async dispatch => {\n    let user = localStorage.getItem(\"user\");\n    const headers = { headers: { authorizationc: user } };\n    try {\n      await axios.put(`${URL}/editblog`, blogInfo, headers);\n      dispatch({ type: \" BLOG_SUCCESFUL_UPDATED\" });\n      history.push(\"/addblog\");\n    } catch (e) {\n      dispatch({\n        type: \"UPDATE_ERROR\",\n        payload: \" password\"\n      });\n    }\n  };\n};\n\n\n\n\nexport const getSingleBlog = id => { };\n\n\n\n"]},"metadata":{},"sourceType":"module"}